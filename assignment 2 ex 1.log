---------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  C:\Users\William Li\Documents\Uni Marburg 2.0\WS18 Macroeconomics\Tutorial\Assignment 2\assignment 2 ex 1.log
  log type:  text
 opened on:   3 Jan 2019, 18:35:35

. use assignment_wageregression.dta, clear

. 
end of do-file

. do "C:\Users\WILLIA~1\AppData\Local\Temp\STD00000000.tmp"

. 
. label variable WAGE "wage"

. label variable EDUCATION "education"

. label variable SEX "sex"

. label variable EXPERIENCE "experience"

. label variable UNION "union"

. label variable AGE "age"

. label variable RACE "race"

. label variable MARR "marriage"

. 
. //a
. gen WAGE_MALE=WAGE if SEX==0
(245 missing values generated)

. label variable WAGE_MALE "male"

. gen WAGE_FEMALE=WAGE if SEX==1
(289 missing values generated)

. label variable WAGE_FEMALE "female"

. 
. su WAGE_MALE

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
   WAGE_MALE |       289    9.994913    5.285854          1      26.29

. su WAGE_FEMALE

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
 WAGE_FEMALE |       245    7.878857    4.720113       1.75       44.5

. 
. //b
. twoway hist WAGE if SEX==0, xtitle("Hourly Wages For Male") name(Male)

. twoway hist WAGE if SEX==1, xtitle("Hourly Wages For Female") name(Female)

. //c
. ttest WAGE, by(SEX)

Two-sample t test with equal variances
------------------------------------------------------------------------------
   Group |     Obs        Mean    Std. Err.   Std. Dev.   [95% Conf. Interval]
---------+--------------------------------------------------------------------
       0 |     289    9.994913    .3109326    5.285854    9.382925     10.6069
       1 |     245    7.878857     .301557    4.720113     7.28487    8.472844
---------+--------------------------------------------------------------------
combined |     534    9.024064    .2223905    5.139097    8.587194    9.460933
---------+--------------------------------------------------------------------
    diff |            2.116056    .4371957                1.257215    2.974898
------------------------------------------------------------------------------
    diff = mean(0) - mean(1)                                      t =   4.8401
Ho: diff = 0                                     degrees of freedom =      532

    Ha: diff < 0                 Ha: diff != 0                 Ha: diff > 0
 Pr(T < t) = 1.0000         Pr(|T| > |t|) = 0.0000          Pr(T > t) = 0.0000

. //d
. gen LWAGE=log(WAGE)

. label variable LWAGE "lwage"

. reg LWAGE

      Source |       SS       df       MS              Number of obs =     534
-------------+------------------------------           F(  0,   533) =    0.00
       Model |           0     0           .           Prob > F      =       .
    Residual |  148.446822   533  .278511862           R-squared     =  0.0000
-------------+------------------------------           Adj R-squared =  0.0000
       Total |  148.446822   533  .278511862           Root MSE      =  .52774

------------------------------------------------------------------------------
       LWAGE |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       _cons |   2.059189   .0228376    90.17   0.000     2.014326    2.104051
------------------------------------------------------------------------------

. reg LWAGE SEX

      Source |       SS       df       MS              Number of obs =     534
-------------+------------------------------           F(  1,   532) =   26.69
       Model |  7.09054726     1  7.09054726           Prob > F      =  0.0000
    Residual |  141.356275   532  .265707284           R-squared     =  0.0478
-------------+------------------------------           Adj R-squared =  0.0460
       Total |  148.446822   533  .278511862           Root MSE      =  .51547

------------------------------------------------------------------------------
       LWAGE |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         SEX |  -.2312483   .0447652    -5.17   0.000    -.3191865   -.1433101
       _cons |   2.165286   .0303216    71.41   0.000     2.105721    2.224851
------------------------------------------------------------------------------

. estat imtest, white

White's test for Ho: homoskedasticity
         against Ha: unrestricted heteroskedasticity

         chi2(1)      =      1.66
         Prob > chi2  =    0.1970

Cameron & Trivedi's decomposition of IM-test

---------------------------------------------------
              Source |       chi2     df      p
---------------------+-----------------------------
  Heteroskedasticity |       1.66      1    0.1970
            Skewness |       4.12      1    0.0423
            Kurtosis |       0.11      1    0.7455
---------------------+-----------------------------
               Total |       5.89      3    0.1170
---------------------------------------------------

. //e
. reg LWAGE SEX EDUCATION EXPERIENCE

      Source |       SS       df       MS              Number of obs =     534
-------------+------------------------------           F(  3,   530) =   65.22
       Model |  40.0248424     3  13.3416141           Prob > F      =  0.0000
    Residual |   108.42198   530  .204569773           R-squared     =  0.2696
-------------+------------------------------           Adj R-squared =  0.2655
       Total |  148.446822   533  .278511862           Root MSE      =  .45229

------------------------------------------------------------------------------
       LWAGE |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         SEX |   -.255947    .039409    -6.49   0.000     -.333364     -.17853
   EDUCATION |   .0980059   .0080088    12.24   0.000     .0822729    .1137388
  EXPERIENCE |   .0126683   .0016968     7.47   0.000     .0093351    .0160016
       _cons |   .6749291   .1205102     5.60   0.000     .4381928    .9116655
------------------------------------------------------------------------------

. //f
. gen EXPERIENCE_SQ=EXPERIENCE^2

. label variable EXPERIENCE_SQ "experience_sq" 

. reg WAGE SEX EDUCATION EXPERIENCE EXPERIENCE_SQ

      Source |       SS       df       MS              Number of obs =     534
-------------+------------------------------           F(  4,   529) =   47.92
       Model |  3743.92273     4  935.980682           Prob > F      =  0.0000
    Residual |  10332.7758   529  19.5326575           R-squared     =  0.2660
-------------+------------------------------           Adj R-squared =  0.2604
       Total |  14076.6985   533  26.4103162           Root MSE      =  4.4196

-------------------------------------------------------------------------------
         WAGE |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------+----------------------------------------------------------------
          SEX |  -2.344911   .3850913    -6.09   0.000    -3.101407   -1.588415
    EDUCATION |   .8956196   .0796405    11.25   0.000     .7391691     1.05207
   EXPERIENCE |   .2696761   .0540749     4.99   0.000     .1634482    .3759041
EXPERIENCE_SQ |  -.0036191   .0011912    -3.04   0.002    -.0059592    -.001279
        _cons |  -4.662972    1.18883    -3.92   0.000    -6.998378   -2.327566
-------------------------------------------------------------------------------

. reg LWAGE SEX EDUCATION EXPERIENCE EXPERIENCE_SQ

      Source |       SS       df       MS              Number of obs =     534
-------------+------------------------------           F(  4,   529) =   55.81
       Model |  44.0564645     4  11.0141161           Prob > F      =  0.0000
    Residual |  104.390358   529   .19733527           R-squared     =  0.2968
-------------+------------------------------           Adj R-squared =  0.2915
       Total |  148.446822   533  .278511862           Root MSE      =  .44422

-------------------------------------------------------------------------------
        LWAGE |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------+----------------------------------------------------------------
          SEX |  -.2570355   .0387066    -6.64   0.000    -.3330731   -.1809979
    EDUCATION |   .0912936   .0080049    11.40   0.000     .0755683    .1070189
   EXPERIENCE |   .0360522   .0054352     6.63   0.000      .025375    .0467295
EXPERIENCE_SQ |  -.0005412   .0001197    -4.52   0.000    -.0007764    -.000306
        _cons |   .6007445   .1194927     5.03   0.000     .3660061    .8354829
-------------------------------------------------------------------------------

. //g...
. sort EXPERIENCE

. regress LWAGE EXPERIENCE

      Source |       SS       df       MS              Number of obs =     534
-------------+------------------------------           F(  1,   532) =    6.24
       Model |  1.72128586     1  1.72128586           Prob > F      =  0.0128
    Residual |  146.725536   532   .27579988           R-squared     =  0.0116
-------------+------------------------------           Adj R-squared =  0.0097
       Total |  148.446822   533  .278511862           Root MSE      =  .52517

------------------------------------------------------------------------------
       LWAGE |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
  EXPERIENCE |   .0045904   .0018375     2.50   0.013     .0009808       .0082
       _cons |   1.977378    .039861    49.61   0.000     1.899074    2.055682
------------------------------------------------------------------------------

. mfx

Marginal effects after regress
      y  = Fitted values (predict)
         =  2.0591886
------------------------------------------------------------------------------
variable |      dy/dx    Std. Err.     z    P>|z|  [    95% C.I.   ]      X
---------+--------------------------------------------------------------------
EXPERI~E |   .0045904      .00184    2.50   0.012   .000989  .008192   17.8221
------------------------------------------------------------------------------

. 
. cap log close
